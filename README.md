# kis_project

Условие
-------
Реализуйте программу “автодополнение”.  
На вход подаются тексты произвольной длины. Затем, по запросу, программа дополняет слово по префиксу.

Слово, которое подсказывает программа, должно быть самым популярным среди слов, добавленных ранее. Также можно использовать функцию “дописывание” и дописать несколько символов к уже введённому префиксу получив, возможно, другую подсказку.


Например:

Добавить текст: “яблоко яблоко яблоневый”

Запрос: “ябло”

Подсказка: “яблоко”

Дописывание: “н” (т.е. весь префикс -- “яблон”)

Подсказка: “яблоневый”

Добавить текст: “яблоня яблоня яблоня”

Запрос: “ябл”

Подсказка: “яблоня”

Интерфейс
---------
Программа принимает следующие команды:

  #### ADD:
  Ожидает от пользователя ввода текста(Набор слов, разделённых пробелами) и добавляет их в словарь
  #### REQUEST:
  Ожидает от пользователя ввод префикса и дополняет его самым популярным возможным продолжением.
  Если префикс нельзя никак продолжить, то печатается он же
  #### APPEND:
  Ожидает от пользователя ввод продолжения предыдущего префикса и на его основании уточняет подсказку.
  Если в словаре нет подходящих слов, то возвращается префикс с введённым продолжением
  #### END:
  Программа завершает работу
  
  Все остальные команды игнорируются.
  
Реализация
----------
Главной частью реализации является бор. 
 - Бор хранит слова, вводимые пользователем 
 - В терминальных вершинах бора хранится количество раз, когда соответствующее слово было добавлено в словарь
 - Каждая вершина помнит указатель на вершину, соответствующую наилучшему продолжению текущего префикса
 - Каждая вершина хранит следующий символ наилучшему продолжения
 - Бор помнит последний запрос и указатель на вершину, соответсвующуюю этому префиксу
 
При добавлении слова рекурсивно на всём пути от корня пересчитываются наилучшие продолжения.

При запросе находится вершина, соответствующая введённому префиксу и префикс дополняется символами из пути к наилучшему продолжению, которое восстанавливается по указателю и симвоам в пути. При этом обновляются последнее слово в боре и указатель на вершину, соответсвующую префиксу из последнего запроса

При уточнении запроса берётся сохранённая информация из последнего запроса. Указатель обновляется в соответствии с уточняющей информацией, а далее от этой уже вершины снова ищётся лучшее продолжение
